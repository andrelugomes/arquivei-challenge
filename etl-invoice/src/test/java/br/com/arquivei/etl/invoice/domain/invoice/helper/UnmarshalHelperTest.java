package br.com.arquivei.etl.invoice.domain.invoice.helper;

import javax.xml.bind.JAXBException;
import javax.xml.bind.UnmarshalException;

import br.com.arquivei.etl.invoice.domain.invoice.xml.NfeProc;
import org.assertj.core.api.Assertions;
import org.junit.Test;

public class UnmarshalHelperTest {

  @Test
  public void shouldUnmarshalToObjectWithNameSpace() throws JAXBException {
    var xmlAsString = "<nfeProc versao=\"3.10\" xmlns=\"http://www.portalfiscal.inf.br/nfe\"><NFe><infNFe Id=\"NFe41180111027350000168550010003359201832255107\" versao=\"3.10\"><ide><cUF>41</cUF><cNF>83225510</cNF><natOp>VENDA DE MERCADORIA PARA NAO CONTRIBUINTE</natOp><indPag>1</indPag><mod>55</mod><serie>1</serie><nNF>335920</nNF><dhEmi>2018-01-23T08:02:00-02:00</dhEmi><tpNF>1</tpNF><idDest>2</idDest><cMunFG>4106902</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>7</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>0</indPres><procEmi>0</procEmi><verProc>NFe UNE 910304</verProc></ide><emit><CNPJ>11027350000168</CNPJ><xNome>G2W COMERCIO ELETRONICO IMPORTACAO E EXPORTACAO</xNome><enderEmit><xLgr>RUA CYRO CORREIA PEREIRA</xLgr><nro>667</nro><xCpl>BL4B</xCpl><xBairro>CIC</xBairro><cMun>4106902</cMun><xMun>CURITIBA</xMun><UF>PR</UF><CEP>81170230</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>4131548100</fone></enderEmit><IE>9049013180</IE><CRT>3</CRT></emit><dest><CNPJ>19427033000140</CNPJ><xNome>ARQUIVEI SERVICOS ON LINE</xNome><enderDest><xLgr>Avenida Doutor Carlos Botelho</xLgr><nro>1869</nro><xCpl>Andar 1 e 2</xCpl><xBairro>Centro</xBairro><cMun>3548906</cMun><xMun>SAO CARLOS</xMun><UF>SP</UF><CEP>13560250</CEP><cPais>1058</cPais><xPais>Brasil</xPais><fone>16992076388</fone></enderDest><indIEDest>9</indIEDest><email>gian.carlos@arquivei.com.br</email></dest><det nItem=\"1\"><prod><cProd>BC154</cProd><cEAN /><xProd>Bateria para Notebook Asus X451C - Marca bringIT</xProd><NCM>85076000</NCM><CFOP>6108</CFOP><uCom>UN</uCom><qCom>1.00</qCom><vUnCom>126.900000</vUnCom><vProd>126.90</vProd><cEANTrib /><uTrib>UN</uTrib><qTrib>1.00</qTrib><vUnTrib>126.900000</vUnTrib><vFrete>17.82</vFrete><vDesc>7.61</vDesc><indTot>1</indTot></prod><imposto><ICMS><ICMS00><orig>1</orig><CST>00</CST><modBC>3</modBC><vBC>137.11</vBC><pICMS>4.00</pICMS><vICMS>5.48</vICMS></ICMS00></ICMS><IPI><cEnq>999</cEnq><IPINT><CST>53</CST></IPINT></IPI><PIS><PISAliq><CST>01</CST><vBC>137.11</vBC><pPIS>1.65</pPIS><vPIS>2.26</vPIS></PISAliq></PIS><COFINS><COFINSAliq><CST>01</CST><vBC>137.11</vBC><pCOFINS>7.60</pCOFINS><vCOFINS>10.42</vCOFINS></COFINSAliq></COFINS><ICMSUFDest><vBCUFDest>137.11</vBCUFDest><pFCPUFDest>0.0000</pFCPUFDest><pICMSUFDest>17.0000</pICMSUFDest><pICMSInter>4.00</pICMSInter><pICMSInterPart>80.0000</pICMSInterPart><vFCPUFDest>0.00</vFCPUFDest><vICMSUFDest>14.26</vICMSUFDest><vICMSUFRemet>3.56</vICMSUFRemet></ICMSUFDest></imposto><infAdProd>Garantia: 8 meses</infAdProd></det><total><ICMSTot><vBC>137.11</vBC><vICMS>5.48</vICMS><vICMSDeson>0.00</vICMSDeson><vICMSUFDest>14.26</vICMSUFDest><vICMSUFRemet>3.56</vICMSUFRemet><vBCST>0.00</vBCST><vST>0.00</vST><vProd>126.90</vProd><vFrete>17.82</vFrete><vSeg>0.00</vSeg><vDesc>7.61</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vPIS>2.26</vPIS><vCOFINS>10.42</vCOFINS><vOutro>0.00</vOutro><vNF>137.11</vNF></ICMSTot></total><transp><modFrete>1</modFrete><vol><pesoL>0.350</pesoL></vol></transp><cobr><fat><nFat>335920</nFat><vOrig>144.72</vOrig><vDesc>7.61</vDesc><vLiq>137.11</vLiq></fat><dup><nDup>1</nDup><dVenc>2018-01-23</dVenc><vDup>137.11</vDup></dup></cobr><infAdic><infAdFisco>IPI conforme JF 50421490620124047000.</infAdFisco><infCpl>IPI conforme JF 50421490620124047000., 23/01/2018 06:14:30 CS Baseado em Pedidos de venda 215906.</infCpl></infAdic></infNFe><Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\" /><SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /><Reference URI=\"#NFe41180111027350000168550010003359201832255107\"><Transforms><Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /><Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\" /></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /><DigestValue>5kx/y48PlQbb6Vp+2S1/eQaU/+c=</DigestValue></Reference></SignedInfo><SignatureValue>c55thHA7KbDbecCQNqq0z3LaTJCxllvCAmgYHGL/1vP/ZwlAZTYPQleV8S50LO/hHoV1Ul1aKyjUxhFw8eNosISR7kKYGJ3eUNtfoqINWhmWw0aAECG+WePpd7jisVzLAmmyjhS3GWZl8I12VnHdxBiEtggkELWZMRDcJ2kDEwkWtmO+JWi++PST2ccHDvgJD8EH11DvW096elwYBiezmMOWm32Ca8DTquFveTG+Um3aOjZlc9dX4N4jDW7BnLnSXrjk9gJBZYO9g7XVl2B8tCz4UagYi72ad2bqOKzrCMFeaKdUJT+8nLWZ7hs+AM+Qs+TEMsgptJrr6w8jdEdHAQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao=\"3.10\"><infProt Id=\"ID141180012229138\"><tpAmb>1</tpAmb><verAplic>PR-v3_8_7</verAplic><chNFe>41180111027350000168550010003359201832255107</chNFe><dhRecbto>2018-01-23T09:05:01-02:00</dhRecbto><nProt>141180012229138</nProt><digVal>5kx/y48PlQbb6Vp+2S1/eQaU/+c=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>";

    final NfeProc nfeProc = UnmarshalHelper.toNfeProc(xmlAsString);

    Assertions.assertThat(nfeProc.getNFe().getInfNFe().getTotal().getICMSTot().getvNf()).isEqualTo(137.11);

  }

  @Test(expected = UnmarshalException.class)
  public void shouldNotUnmarshalToObjectWithoutNameSpace() throws JAXBException {
    var xmlAsString = "<nfeProc versao=\"3.10\"><NFe><infNFe Id=\"NFe41180111027350000168550010003359201832255107\" versao=\"3.10\"><ide><cUF>41</cUF><cNF>83225510</cNF><natOp>VENDA DE MERCADORIA PARA NAO CONTRIBUINTE</natOp><indPag>1</indPag><mod>55</mod><serie>1</serie><nNF>335920</nNF><dhEmi>2018-01-23T08:02:00-02:00</dhEmi><tpNF>1</tpNF><idDest>2</idDest><cMunFG>4106902</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>7</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>0</indPres><procEmi>0</procEmi><verProc>NFe UNE 910304</verProc></ide><emit><CNPJ>11027350000168</CNPJ><xNome>G2W COMERCIO ELETRONICO IMPORTACAO E EXPORTACAO</xNome><enderEmit><xLgr>RUA CYRO CORREIA PEREIRA</xLgr><nro>667</nro><xCpl>BL4B</xCpl><xBairro>CIC</xBairro><cMun>4106902</cMun><xMun>CURITIBA</xMun><UF>PR</UF><CEP>81170230</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>4131548100</fone></enderEmit><IE>9049013180</IE><CRT>3</CRT></emit><dest><CNPJ>19427033000140</CNPJ><xNome>ARQUIVEI SERVICOS ON LINE</xNome><enderDest><xLgr>Avenida Doutor Carlos Botelho</xLgr><nro>1869</nro><xCpl>Andar 1 e 2</xCpl><xBairro>Centro</xBairro><cMun>3548906</cMun><xMun>SAO CARLOS</xMun><UF>SP</UF><CEP>13560250</CEP><cPais>1058</cPais><xPais>Brasil</xPais><fone>16992076388</fone></enderDest><indIEDest>9</indIEDest><email>gian.carlos@arquivei.com.br</email></dest><det nItem=\"1\"><prod><cProd>BC154</cProd><cEAN /><xProd>Bateria para Notebook Asus X451C - Marca bringIT</xProd><NCM>85076000</NCM><CFOP>6108</CFOP><uCom>UN</uCom><qCom>1.00</qCom><vUnCom>126.900000</vUnCom><vProd>126.90</vProd><cEANTrib /><uTrib>UN</uTrib><qTrib>1.00</qTrib><vUnTrib>126.900000</vUnTrib><vFrete>17.82</vFrete><vDesc>7.61</vDesc><indTot>1</indTot></prod><imposto><ICMS><ICMS00><orig>1</orig><CST>00</CST><modBC>3</modBC><vBC>137.11</vBC><pICMS>4.00</pICMS><vICMS>5.48</vICMS></ICMS00></ICMS><IPI><cEnq>999</cEnq><IPINT><CST>53</CST></IPINT></IPI><PIS><PISAliq><CST>01</CST><vBC>137.11</vBC><pPIS>1.65</pPIS><vPIS>2.26</vPIS></PISAliq></PIS><COFINS><COFINSAliq><CST>01</CST><vBC>137.11</vBC><pCOFINS>7.60</pCOFINS><vCOFINS>10.42</vCOFINS></COFINSAliq></COFINS><ICMSUFDest><vBCUFDest>137.11</vBCUFDest><pFCPUFDest>0.0000</pFCPUFDest><pICMSUFDest>17.0000</pICMSUFDest><pICMSInter>4.00</pICMSInter><pICMSInterPart>80.0000</pICMSInterPart><vFCPUFDest>0.00</vFCPUFDest><vICMSUFDest>14.26</vICMSUFDest><vICMSUFRemet>3.56</vICMSUFRemet></ICMSUFDest></imposto><infAdProd>Garantia: 8 meses</infAdProd></det><total><ICMSTot><vBC>137.11</vBC><vICMS>5.48</vICMS><vICMSDeson>0.00</vICMSDeson><vICMSUFDest>14.26</vICMSUFDest><vICMSUFRemet>3.56</vICMSUFRemet><vBCST>0.00</vBCST><vST>0.00</vST><vProd>126.90</vProd><vFrete>17.82</vFrete><vSeg>0.00</vSeg><vDesc>7.61</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vPIS>2.26</vPIS><vCOFINS>10.42</vCOFINS><vOutro>0.00</vOutro><vNF>137.11</vNF></ICMSTot></total><transp><modFrete>1</modFrete><vol><pesoL>0.350</pesoL></vol></transp><cobr><fat><nFat>335920</nFat><vOrig>144.72</vOrig><vDesc>7.61</vDesc><vLiq>137.11</vLiq></fat><dup><nDup>1</nDup><dVenc>2018-01-23</dVenc><vDup>137.11</vDup></dup></cobr><infAdic><infAdFisco>IPI conforme JF 50421490620124047000.</infAdFisco><infCpl>IPI conforme JF 50421490620124047000., 23/01/2018 06:14:30 CS Baseado em Pedidos de venda 215906.</infCpl></infAdic></infNFe><Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\" /><SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /><Reference URI=\"#NFe41180111027350000168550010003359201832255107\"><Transforms><Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /><Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\" /></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /><DigestValue>5kx/y48PlQbb6Vp+2S1/eQaU/+c=</DigestValue></Reference></SignedInfo><SignatureValue>c55thHA7KbDbecCQNqq0z3LaTJCxllvCAmgYHGL/1vP/ZwlAZTYPQleV8S50LO/hHoV1Ul1aKyjUxhFw8eNosISR7kKYGJ3eUNtfoqINWhmWw0aAECG+WePpd7jisVzLAmmyjhS3GWZl8I12VnHdxBiEtggkELWZMRDcJ2kDEwkWtmO+JWi++PST2ccHDvgJD8EH11DvW096elwYBiezmMOWm32Ca8DTquFveTG+Um3aOjZlc9dX4N4jDW7BnLnSXrjk9gJBZYO9g7XVl2B8tCz4UagYi72ad2bqOKzrCMFeaKdUJT+8nLWZ7hs+AM+Qs+TEMsgptJrr6w8jdEdHAQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIIKzCCBhOgAwIBAgIIVZlfK9SocuMwDQYJKoZIhvcNAQELBQAwcjELMAkGA1UEBhMCQlIxEzARBgNVBAoTCklDUC1CcmFzaWwxNjA0BgNVBAsTLVNlY3JldGFyaWEgZGEgUmVjZWl0YSBGZWRlcmFsIGRvIEJyYXNpbCAtIFJGQjEWMBQGA1UEAxMNQUMgT05MSU5FIFJGQjAeFw0xODAxMDQxMzExMzlaFw0xOTAxMDQxMzExMzlaMIH1MQswCQYDVQQGEwJCUjELMAkGA1UECAwCUFIxETAPBgNVBAcMCENVUklUSUJBMRMwEQYDVQQKDApJQ1AtQnJhc2lsMTYwNAYDVQQLDC1TZWNyZXRhcmlhIGRhIFJlY2VpdGEgRmVkZXJhbCBkbyBCcmFzaWwgLSBSRkIxFjAUBgNVBAsMDVJGQiBlLUNOUEogQTExFjAUBgNVBAsMDUFSIE9OTElORSBTVUwxSTBHBgNVBAMMQEcyVyBDT01FUkNJTyBFTEVUUk9OSUNPIElNUE9SVEFDQU8gRSBFWFBPUlRBQ0FPIEw6MTEwMjczNTAwMDAxNjgwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCu7265GIFNjerQ22BNpD+W75CfAqoDV2TLCG68hiJNPUnt77ObXTbrTJNEI7HmZ9k+Kcq792jdMnSxAG3auzifeGgC7vFv3z2BW920gbfowCn54u6vOeQA/T0s7atBO4DfBrnTAqXKBgK2kt0UHLNKfxNLcSrQmxd2Vvxy/w43dxzuuHnMQwpXbZJ5z49CZW9BMtJSS0I8HOLV30IOmJr9vP7F2crE92qljUzh4PhnaK9kUMHTwZqItCJnxPDwKT1YB19RxFaKFUoLDEgQwZR9DZykoybGGvjQ5xDmgFP1RqbquQX2pbvey8eR7mPdm/qGrsGaiHayad6O5qrTfh1XAgMBAAGjggM/MIIDOzCBoQYIKwYBBQUHAQEEgZQwgZEwXAYIKwYBBQUHMAKGUGh0dHA6Ly9pY3AtYnJhc2lsLnZwa2kudmFsaWRjZXJ0aWZpY2Fkb3JhLmNvbS5ici9hYy1vbmxpbmVyZmIvYWMtb25saW5lcmZidjIucDdiMDEGCCsGAQUFBzABhiVodHRwOi8vb2NzcC52YWxpZGNlcnRpZmljYWRvcmEuY29tLmJyMAkGA1UdEwQCMAAwHwYDVR0jBBgwFoAUkZp2jCuokxiYmHoD5MvstbAZJ/8wdQYDVR0gBG4wbDBqBgZgTAECATcwYDBeBggrBgEFBQcCARZSaHR0cDovL2ljcC1icmFzaWwudnBraS52YWxpZGNlcnRpZmljYWRvcmEuY29tLmJyL2FjLW9ubGluZXJmYi9kcGMtYWMtb25saW5lcmZiLnBkZjCCAQYGA1UdHwSB/jCB+zBVoFOgUYZPaHR0cDovL2ljcC1icmFzaWwudmFsaWRjZXJ0aWZpY2Fkb3JhLmNvbS5ici9hYy1vbmxpbmVyZmIvbGNyLWFjLW9ubGluZXJmYnYyLmNybDBWoFSgUoZQaHR0cDovL2ljcC1icmFzaWwyLnZhbGlkY2VydGlmaWNhZG9yYS5jb20uYnIvYWMtb25saW5lcmZiL2xjci1hYy1vbmxpbmVyZmJ2Mi5jcmwwSqBIoEaGRGh0dHA6Ly9yZXBvc2l0b3Jpby5pY3BicmFzaWwuZ292LmJyL2xjci9WQUxJRC9sY3ItYWMtb25saW5lcmZidjIuY3JsMA4GA1UdDwEB/wQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwQwgbgGA1UdEQSBsDCBrYEYZ3VpbGhlcm1lQGJyaW5naXQuY29tLmJyoDgGBWBMAQMEoC8ELTI4MDQxOTg4MDcyNzgwMTM5MjUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMKAjBgVgTAEDAqAaBBhHVUlMSEVSTUUgQk9MRVRUQSBWSUVJUkGgGQYFYEwBAwOgEAQOMTEwMjczNTAwMDAxNjigFwYFYEwBAwegDgQMMDAwMDAwMDAwMDAwMA0GCSqGSIb3DQEBCwUAA4ICAQCJaYwUW3Wym1ru2G2CTAhtqBaMluN46qZqofjG/fxrkAlBl9mLUYcb5TlwyAASRDTYcWO+iIKBGWktJNu283J3Hm76K016XDuOnySe9bMaRM+h/2IuCkNBFLT/8qX9hpsQdl6Ix3J+yR+j4UbzpVPMWtOCSuwytwZ2l9jW69TKhFM+2m148u0h+WPxda0761ig0iMgn2wySzZaGyi6xkCvt0iGDHixq8WUTO4vG1HkJIy0CQhvncsLTHJ3y4h3FmSwiaW5DcWkdOWzsVMlfoF0QwcvfScjXtdP0RqGT2YBDtPVGSoJc/3ZMpAr0nyikSNAnpS+QoQpBppuDIGEtLl0escbyT/0d+2ha28czOKcnHocAr4f5v+e56NGMIbJmMxlban3L/A5ZaGWEapSCC8ilelRMCqhuqLWqX6vLsCbqBjA6px/4vC5p61Mv/SzhEawVOOKegYD2jxukJSTMQkAaRG2/2Xu8KfYevlXPyNZByt5sdCiOsTfcvHy5ykZGDZTvyGy9hZqw4+/xIQuembVW5rOPMb+HywBBlaxTaLLwJhWPIgpsVQYlS2Gfzwz0PqiyxVJ9DWeYmueHN2WT203x/EEewV+6FIlrkkSpYOY/9IZerqrpq5xccBV/l5XjIC8Uh8/59xDsHr9PFhT7BMqJq7FDBJFquhV2e5RQX8TbQ==</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao=\"3.10\"><infProt Id=\"ID141180012229138\"><tpAmb>1</tpAmb><verAplic>PR-v3_8_7</verAplic><chNFe>41180111027350000168550010003359201832255107</chNFe><dhRecbto>2018-01-23T09:05:01-02:00</dhRecbto><nProt>141180012229138</nProt><digVal>5kx/y48PlQbb6Vp+2S1/eQaU/+c=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>";

    UnmarshalHelper.toNfeProc(xmlAsString);
  }

}
